<?xml version="1.0"?>
<sdl version="2.0"/>

<variables>
    <lat>    1ns </lat>
    <buslat> 50ps </buslat>
    <netlat> 10ns </netlat>
    <maxResp> 70000 </maxResp>
</variables>

<config>
    run-mode=both
</config>

<param_include>
    <Gem5Params>
        <M5debug>       ${M5_DEBUG} </M5debug>
        <M5debugFile>   m5.log </M5debugFile>
        <info>          yes </info>
        <registerExit>  yes </registerExit>
        <frequency>     2.9 GHz </frequency>
    </Gem5Params>

    <BCL1ICacheParams>
        <num_ways>      8 </num_ways>
        <num_rows>      64 </num_rows>
        <blocksize>     64 </blocksize>
        <access_time>   1336 ps </access_time>
        <num_upstream>  1 </num_upstream>
        <printStats>    ${CACHE_STATS} </printStats>
        <debug>         ${CACHE_DEBUG} </debug>
        <maxL1ResponseTime> $maxResp </maxL1ResponseTime>
    </BCL1ICacheParams>

    <BCL1DCacheParams>
        <num_ways>      2 </num_ways>
        <num_rows>      32 </num_rows>
        <blocksize>     64 </blocksize>
        <access_time>   1336 ps </access_time>
        <num_upstream>  1 </num_upstream>
        <prefetcher>    cassini.StridePrefetcher </prefetcher>
        <printStats>    ${CACHE_STATS} </printStats>
        <debug>         ${CACHE_DEBUG} </debug>
        <maxL1ResponseTime> $maxResp </maxL1ResponseTime>
    </BCL1DCacheParams>

    <BCL2CacheParams>
        <num_ways>      8 </num_ways>
        <num_rows>      256 </num_rows>
        <blocksize>     64 </blocksize>
        <access_time>   4880 ps </access_time>
        <mode>          INCLUSIVE </mode>
        <prefetcher>    cassini.NextBlockPrefetcher </prefetcher>
        <printStats>    ${CACHE_STATS} </printStats>
        <debug>         ${CACHE_DEBUG} </debug>
    </BCL2CacheParams>


    <LCL1ICacheParams>
        <num_ways>      8 </num_ways>
        <num_rows>      32 </num_rows>
        <blocksize>     64 </blocksize>
        <access_time>   500 ps </access_time>
        <num_upstream>  1 </num_upstream>
        <printStats>    ${CACHE_STATS} </printStats>
        <debug>         ${CACHE_DEBUG} </debug>
        <maxL1ResponseTime> $maxResp </maxL1ResponseTime>
    </LCL1ICacheParams>

    <LCL1DCacheParams>
        <num_ways>      2 </num_ways>
        <num_rows>      16 </num_rows>
        <blocksize>     64 </blocksize>
        <access_time>   1000 ps </access_time>
        <num_upstream>  1 </num_upstream>
        <prefetcher>    cassini.StridePrefetcher </prefetcher>
        <printStats>    ${CACHE_STATS} </printStats>
        <debug>         ${CACHE_DEBUG} </debug>
        <maxL1ResponseTime> $maxResp </maxL1ResponseTime>
    </LCL1DCacheParams>

    <LCL2CacheParams>
        <num_ways>      8 </num_ways>
        <num_rows>      64 </num_rows>
        <blocksize>     64 </blocksize>
        <access_time>   4880 ps </access_time>
        <mode>          INCLUSIVE </mode>
        <prefetcher>    cassini.NextBlockPrefetcher </prefetcher>
        <printStats>    ${CACHE_STATS} </printStats>
        <debug>         ${CACHE_DEBUG} </debug>
    </LCL2CacheParams>


    <RouterParams>
        <topology>  merlin.singlerouter </topology>
        <num_vcs>   3 </num_vcs>
        <link_bw>   25.6GHz </link_bw>
        <xbar_bw>   25.6GHz </xbar_bw>
    </RouterParams>

    <DirCtrlParams>
        <network_bw>        25.6GHz </network_bw>
        <addrRangeEnd>      0x1FE000000 </addrRangeEnd> <!-- 1024MB(total) - 16MB for backingStoreSize -->
        <interleaveSize>    4 </interleaveSize>
        <interleaveStep>    8 </interleaveStep>
        <backingStoreSize>  0x1000000 </backingStoreSize> <!-- 16 MB -->
        <entryCacheSize>    16384 </entryCacheSize>
        <debug>             ${DIR_DEBUG} </debug>
        <printStats>        ${DIR_STATS} </printStats>
    </DirCtrlParams>

    <DDRMemParams>
        <!-- <access_time> 20ns </access_time> -->
        <mem_size>      4096 </mem_size>
        <clock>         1GHz </clock>
        <backend>       memHierarchy.dramsim </backend>
        <device_ini>    DDR3_micron_8M_8B_x16_sg15_bigLittle.ini </device_ini>
        <system_ini>    system.bigLittle.ini </system_ini>
        <debug>         ${MEM_DEBUG} </debug>
        <printStats>    ${MEM_STATS} </printStats>
    </DDRMemParams>

    <FastDDRMemParams>
        <!-- <access_time> 20ns </access_time> -->
        <mem_size>      4096 </mem_size>
        <clock>         2GHz </clock>
        <backend>       memHierarchy.dramsim </backend>
        <device_ini>    DDR3_micron_8M_8B_x16_sg15_bigLittle.ini </device_ini>
        <system_ini>    system.bigLittle.ini </system_ini>
        <debug>         ${MEM_DEBUG} </debug>
        <printStats>    ${MEM_STATS} </printStats>
    </FastDDRMemParams>

    <VaultMemParams>
        <mem_size> 1024 </mem_size>
        <clock> 1GHz </clock>
        <backend> memHierarchy.vaultsim </backend>
        <printStats> 1 </printStats>
    </VaultMemParams>

</param_include>


<sst>

        <component name=cores type=m5C.M5 >
            <params include=Gem5Params >
                <statFile> stream-8coreVault_1.6GHz-M5.stats </statFile>
                <configFile> stream-8coreVault_1.6GHz-M5.xml </configFile>
                <mem_initializer_port> n0.core0_L1D </mem_initializer_port>
            </params>
            
            <link name=n0.core0_L1D   port=n0.core0_L1D   latency=$lat />
            <link name=n0.core0_L1I   port=n0.core0_L1I   latency=$lat />
            <link name=n0.core1_L1D   port=n0.core1_L1D   latency=$lat />
            <link name=n0.core1_L1I   port=n0.core1_L1I   latency=$lat />
            <link name=n0.core2_L1D   port=n0.core2_L1D   latency=$lat />
            <link name=n0.core2_L1I   port=n0.core2_L1I   latency=$lat />
            <link name=n0.core3_L1D   port=n0.core3_L1D   latency=$lat />
            <link name=n0.core3_L1I   port=n0.core3_L1I   latency=$lat />
            <link name=n1.core0_L1D   port=n1.core0_L1D   latency=$lat />
            <link name=n1.core0_L1I   port=n1.core0_L1I   latency=$lat />
            <link name=n1.core1_L1D   port=n1.core1_L1D   latency=$lat />
            <link name=n1.core1_L1I   port=n1.core1_L1I   latency=$lat />
            <link name=n1.core2_L1D   port=n1.core2_L1D   latency=$lat />
            <link name=n1.core2_L1I   port=n1.core2_L1I   latency=$lat />
            <link name=n1.core3_L1D   port=n1.core3_L1D   latency=$lat />
            <link name=n1.core3_L1I   port=n1.core3_L1I   latency=$lat />
        </component>
        
        <component name="dirctrl0" type=memHierarchy.DirectoryController >
            <params include=DirCtrlParams >
                <network_address> 0 </network_address>
                <addrRangeStart> 0x0 </addrRangeStart>
            </params>
            <link name=dirctrl0_mem port=memory latency=$buslat />
            <link name=dirctrl0_net port=network latency=$buslat />
        </component>
        
        <component name="dirctrl1" type=memHierarchy.DirectoryController >
            <params include=DirCtrlParams >
                <network_address> 1 </network_address>
                <addrRangeStart> 0x1000 </addrRangeStart>
            </params>
            <link name=dirctrl1_mem port=memory latency=$buslat />
            <link name=dirctrl1_net port=network latency=$buslat />
        </component>
        
        <component name="memory0" type=memHierarchy.MemController >
            <params include=VaultMemParams />
            <link name=dirctrl0_mem port=direct_link latency=$buslat />
            <link name=chain0_c_0 port=cube_link latency=6ns />
        </component>
            
        <component name="LL0" type=VaultSimC.logicLayer >
            <params>
                <clock> 500Mhz </clock>
                <vaults>16</vaults>
                <llID>0</llID>
                <bwlimit>8</bwlimit>
                <LL_MASK>0</LL_MASK>
                <terminal>1</terminal>
            </params>
            
            <link name="LL0_0_0" port="bus_0" latency="3 ns" />
            <link name="LL0_0_1" port="bus_1" latency="3 ns" />
            <link name="LL0_0_2" port="bus_2" latency="3 ns" />
            <link name="LL0_0_3" port="bus_3" latency="3 ns" />
            <link name="LL0_0_4" port="bus_4" latency="3 ns" />
            <link name="LL0_0_5" port="bus_5" latency="3 ns" />
            <link name="LL0_0_6" port="bus_6" latency="3 ns" />
            <link name="LL0_0_7" port="bus_7" latency="3 ns" />
            <link name="LL0_0_8" port="bus_8" latency="3 ns" />
            <link name="LL0_0_9" port="bus_9" latency="3 ns" />
            <link name="LL0_0_10" port="bus_10" latency="3 ns" />
            <link name="LL0_0_11" port="bus_11" latency="3 ns" />
            <link name="LL0_0_12" port="bus_12" latency="3 ns" />
            <link name="LL0_0_13" port="bus_13" latency="3 ns" />
            <link name="LL0_0_14" port="bus_14" latency="3 ns" />
            <link name="LL0_0_15" port="bus_15" latency="3 ns" />
            <link name="chain0_c_0" port="toCPU" latency="6 ns" />
        </component>
            
        <component name="Vault0.0" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 0 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_0" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.1" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 1 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_1" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.2" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 2 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_2" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.3" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 3 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_3" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.4" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 4 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_4" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.5" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 5 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_5" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.6" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 6 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_6" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.7" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 7 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_7" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.8" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 8 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_8" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.9" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 9 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_9" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.10" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 10 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_10" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.11" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 11 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_11" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.12" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 12 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_12" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.13" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 13 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_13" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.14" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 14 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_14" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault0.15" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 15 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL0_0_15" port="bus" latency="3 ns" />
        </component>
            
        <component name="memory1" type=memHierarchy.MemController >
            <params include=VaultMemParams />
            <link name=dirctrl1_mem port=direct_link latency=$buslat />
            <link name=chain1_c_0 port=cube_link latency=6ns />
        </component>
            
        <component name="LL1" type=VaultSimC.logicLayer >
            <params>
                <clock> 500Mhz </clock>
                <vaults>16</vaults>
                <llID>0</llID>
                <bwlimit>8</bwlimit>
                <LL_MASK>0</LL_MASK>
                <terminal>1</terminal>
            </params>
            
            <link name="LL1_0_0" port="bus_0" latency="3 ns" />
            <link name="LL1_0_1" port="bus_1" latency="3 ns" />
            <link name="LL1_0_2" port="bus_2" latency="3 ns" />
            <link name="LL1_0_3" port="bus_3" latency="3 ns" />
            <link name="LL1_0_4" port="bus_4" latency="3 ns" />
            <link name="LL1_0_5" port="bus_5" latency="3 ns" />
            <link name="LL1_0_6" port="bus_6" latency="3 ns" />
            <link name="LL1_0_7" port="bus_7" latency="3 ns" />
            <link name="LL1_0_8" port="bus_8" latency="3 ns" />
            <link name="LL1_0_9" port="bus_9" latency="3 ns" />
            <link name="LL1_0_10" port="bus_10" latency="3 ns" />
            <link name="LL1_0_11" port="bus_11" latency="3 ns" />
            <link name="LL1_0_12" port="bus_12" latency="3 ns" />
            <link name="LL1_0_13" port="bus_13" latency="3 ns" />
            <link name="LL1_0_14" port="bus_14" latency="3 ns" />
            <link name="LL1_0_15" port="bus_15" latency="3 ns" />
            <link name="chain1_c_0" port="toCPU" latency="6 ns" />
        </component>
            
        <component name="Vault1.0" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 0 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_0" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.1" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 1 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_1" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.2" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 2 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_2" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.3" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 3 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_3" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.4" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 4 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_4" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.5" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 5 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_5" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.6" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 6 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_6" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.7" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 7 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_7" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.8" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 8 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_8" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.9" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 9 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_9" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.10" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 10 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_10" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.11" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 11 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_11" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.12" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 12 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_12" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.13" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 13 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_13" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.14" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 14 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_14" port="bus" latency="3 ns" />
        </component>
            
        <component name="Vault1.15" type=VaultSimC.VaultSimC >
            <params>
                <clock> 750Mhz </clock>
                <VaultID> 15 </VaultID>
                <numVaults2> 4 </numVaults2>
            </params>
            <link name="LL1_0_15" port="bus" latency="3 ns" />
        </component>
            
        <component name="n0.core0:l1Dcache" type=memHierarchy.Cache >
            <params include=BCL1DCacheParams >
                <next_level> n0.l2cache </next_level>
            </params>
            <link name=n0.core0_L1D port=upstream0 latency=$lat />
            <link name=n0.core0-l1d-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n0.core0:l1Icache" type=memHierarchy.Cache >
            <params include=BCL1ICacheParams >
                <next_level> n0.l2cache </next_level>
            </params>
            <link name=n0.core0_L1I port=upstream0 latency=$lat />
            <link name=n0.core0-l1i-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n0.core1:l1Dcache" type=memHierarchy.Cache >
            <params include=BCL1DCacheParams >
                <next_level> n0.l2cache </next_level>
            </params>
            <link name=n0.core1_L1D port=upstream0 latency=$lat />
            <link name=n0.core1-l1d-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n0.core1:l1Icache" type=memHierarchy.Cache >
            <params include=BCL1ICacheParams >
                <next_level> n0.l2cache </next_level>
            </params>
            <link name=n0.core1_L1I port=upstream0 latency=$lat />
            <link name=n0.core1-l1i-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n0.core2:l1Dcache" type=memHierarchy.Cache >
            <params include=BCL1DCacheParams >
                <next_level> n0.l2cache </next_level>
            </params>
            <link name=n0.core2_L1D port=upstream0 latency=$lat />
            <link name=n0.core2-l1d-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n0.core2:l1Icache" type=memHierarchy.Cache >
            <params include=BCL1ICacheParams >
                <next_level> n0.l2cache </next_level>
            </params>
            <link name=n0.core2_L1I port=upstream0 latency=$lat />
            <link name=n0.core2-l1i-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n0.core3:l1Dcache" type=memHierarchy.Cache >
            <params include=BCL1DCacheParams >
                <next_level> n0.l2cache </next_level>
            </params>
            <link name=n0.core3_L1D port=upstream0 latency=$lat />
            <link name=n0.core3-l1d-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n0.core3:l1Icache" type=memHierarchy.Cache >
            <params include=BCL1ICacheParams >
                <next_level> n0.l2cache </next_level>
            </params>
            <link name=n0.core3_L1I port=upstream0 latency=$lat />
            <link name=n0.core3-l1i-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n0.l2cache" type=memHierarchy.Cache >
            <params include=BCL2CacheParams>
                <net_addr> 2 </net_addr>
            </params>
            <link name=n0.l2cache-bus port=snoop_link latency=$buslat />
            <link name=n0.l2cache-net port=directory_link latency=$netlat />
        </component>
        
        <component name="n0.membus" type=memHierarchy.Bus >
            <params>
                <numPorts> 9 </numPorts>
                <busDelay> 1ns </busDelay>
                <debug> ${BUS_DEBUG} </debug>
            </params>
            
            <link name=n0.core0-l1d-bus port=port0 latency=$buslat />
            <link name=n0.core0-l1i-bus port=port1 latency=$buslat />
            <link name=n0.core1-l1d-bus port=port2 latency=$buslat />
            <link name=n0.core1-l1i-bus port=port3 latency=$buslat />
            <link name=n0.core2-l1d-bus port=port4 latency=$buslat />
            <link name=n0.core2-l1i-bus port=port5 latency=$buslat />
            <link name=n0.core3-l1d-bus port=port6 latency=$buslat />
            <link name=n0.core3-l1i-bus port=port7 latency=$buslat />
            <link name=n0.l2cache-bus port=port8 latency=$buslat />
        </component>
        
        <component name="n1.core0:l1Dcache" type=memHierarchy.Cache >
            <params include=BCL1DCacheParams >
                <next_level> n1.l2cache </next_level>
            </params>
            <link name=n1.core0_L1D port=upstream0 latency=$lat />
            <link name=n1.core0-l1d-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n1.core0:l1Icache" type=memHierarchy.Cache >
            <params include=BCL1ICacheParams >
                <next_level> n1.l2cache </next_level>
            </params>
            <link name=n1.core0_L1I port=upstream0 latency=$lat />
            <link name=n1.core0-l1i-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n1.core1:l1Dcache" type=memHierarchy.Cache >
            <params include=BCL1DCacheParams >
                <next_level> n1.l2cache </next_level>
            </params>
            <link name=n1.core1_L1D port=upstream0 latency=$lat />
            <link name=n1.core1-l1d-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n1.core1:l1Icache" type=memHierarchy.Cache >
            <params include=BCL1ICacheParams >
                <next_level> n1.l2cache </next_level>
            </params>
            <link name=n1.core1_L1I port=upstream0 latency=$lat />
            <link name=n1.core1-l1i-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n1.core2:l1Dcache" type=memHierarchy.Cache >
            <params include=BCL1DCacheParams >
                <next_level> n1.l2cache </next_level>
            </params>
            <link name=n1.core2_L1D port=upstream0 latency=$lat />
            <link name=n1.core2-l1d-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n1.core2:l1Icache" type=memHierarchy.Cache >
            <params include=BCL1ICacheParams >
                <next_level> n1.l2cache </next_level>
            </params>
            <link name=n1.core2_L1I port=upstream0 latency=$lat />
            <link name=n1.core2-l1i-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n1.core3:l1Dcache" type=memHierarchy.Cache >
            <params include=BCL1DCacheParams >
                <next_level> n1.l2cache </next_level>
            </params>
            <link name=n1.core3_L1D port=upstream0 latency=$lat />
            <link name=n1.core3-l1d-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n1.core3:l1Icache" type=memHierarchy.Cache >
            <params include=BCL1ICacheParams >
                <next_level> n1.l2cache </next_level>
            </params>
            <link name=n1.core3_L1I port=upstream0 latency=$lat />
            <link name=n1.core3-l1i-bus port=snoop_link latency=$lat />
        </component>
        
        <component name="n1.l2cache" type=memHierarchy.Cache >
            <params include=BCL2CacheParams>
                <net_addr> 3 </net_addr>
            </params>
            <link name=n1.l2cache-bus port=snoop_link latency=$buslat />
            <link name=n1.l2cache-net port=directory_link latency=$netlat />
        </component>
        
        <component name="n1.membus" type=memHierarchy.Bus >
            <params>
                <numPorts> 9 </numPorts>
                <busDelay> 1ns </busDelay>
                <debug> ${BUS_DEBUG} </debug>
            </params>
            
            <link name=n1.core0-l1d-bus port=port0 latency=$buslat />
            <link name=n1.core0-l1i-bus port=port1 latency=$buslat />
            <link name=n1.core1-l1d-bus port=port2 latency=$buslat />
            <link name=n1.core1-l1i-bus port=port3 latency=$buslat />
            <link name=n1.core2-l1d-bus port=port4 latency=$buslat />
            <link name=n1.core2-l1i-bus port=port5 latency=$buslat />
            <link name=n1.core3-l1d-bus port=port6 latency=$buslat />
            <link name=n1.core3-l1i-bus port=port7 latency=$buslat />
            <link name=n1.l2cache-bus port=port8 latency=$buslat />
        </component>
        
        <component name="chipRtr" type=merlin.hr_router >
            <params include=RouterParams >
                <num_ports> 4 </num_ports>
                <link_bw> 25.6GHz </link_bw>
                <xbar_bw> 25.6GHz </xbar_bw>
            
                <id> 0 </id>
            </params>
            
            <link name=dirctrl0_net port=port0 latency=$netlat />
            <link name=dirctrl1_net port=port1 latency=$netlat />
            <link name=n0.l2cache-net port=port2 latency=$netlat />
            <link name=n1.l2cache-net port=port3 latency=$netlat />
        </component>
        
</sst>
