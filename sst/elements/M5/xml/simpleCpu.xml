<?xml version="1.0"?>

<cpuParams>
    <physicalMemory.start> 0x00100000 </physicalMemory.start>
    <physicalMemory.end>   0x001fffff </physicalMemory.end>

    <base.process.egid> 1 </base.process.egid>
    <base.process.euid> 1 </base.process.euid>
    <base.process.gid> 1 </base.process.gid>
    <base.process.pid> 1 </base.process.pid>
    <base.process.ppid> 1 </base.process.ppid>
    <base.process.uid> 1 </base.process.uid>
    <base.process.cwd> / </base.process.cwd>
    <base.process.cmd> hello arg1 arg2 </base.process.cmd>
    <base.process.executable> test/hello </base.process.executable>
    <base.process.env> USER=mjleven </base.process.env>
    <base.process.simpoint> 0 </base.process.simpoint>
    <base.process.errout> cerr </base.process.errout>
    <base.process.input> cin </base.process.input>
    <base.process.output> cout </base.process.output>
    <base.process.max_stack_size> 0x4000000 </base.process.max_stack_size>

    <base.dtb.size> 64 </base.dtb.size>
    <base.itb.size> 48 </base.itb.size>
    <base.max_insts_all_threads> 0 </base.max_insts_all_threads>
    <base.max_insts_any_thread> 0 </base.max_insts_any_thread>
    <base.max_loads_all_threads> 0 </base.max_loads_all_threads>
    <base.max_loads_any_thread> 0 </base.max_loads_any_thread>
    <base.clock> 1000 </base.clock>
    <base.function_trace_start> 0 </base.function_trace_start>
    <base.phase> 0 </base.phase>
    <base.progress_interval> 0 </base.progress_interval>
    <base.defer_registration> 0 </base.defer_registration>  
    <base.do_checkpoint_insts> 1 </base.do_checkpoint_insts>
    <base.do_statistics_insts> 1 </base.do_statistics_insts>
    <base.function_trace> 0 </base.function_trace>
    <base.id> 0 </base.id>
</cpuParams>

<cacheParams>

    <trace_addr> 0 </trace_addr>
    <max_miss_count> 0 </max_miss_count>
    <prefetch_policy> none </prefetch_policy>
    <addr_range.start> 0x100000 </addr_range.start>
    <addr_range.end> -1 </addr_range.end>
    <latency> 1000 </latency>
    <prefetch_latency> 10000 </prefetch_latency>
    <forward_snoops> true </forward_snoops>
    <prefetch_cache_check_push> true </prefetch_cache_check_push>
    <prefetch_data_accesses_only> false </prefetch_data_accesses_only>
    <prefetch_on_access> false </prefetch_on_access>
    <prefetch_past_page> false </prefetch_past_page>
    <prefetch_serial_squash> false </prefetch_serial_squash>
    <prefetch_use_cpu_id> true </prefetch_use_cpu_id>
    <prioritizeRequests> false </prioritizeRequests>
    <two_queue> false </two_queue>
    <assoc> 2 </assoc>
    <block_size> 64 </block_size>
    <hash_delay> 1 </hash_delay>
    <mshrs> 10 </mshrs>
    <prefetch_degree> 1  </prefetch_degree>
    <prefetcher_size> 100 </prefetcher_size>
    <subblock_size> 0 </subblock_size>
    <tgts_per_mshr> 20 </tgts_per_mshr>
    <write_buffers> 8 </write_buffers>
    <size> 0x8000 </size>

</cacheParams>

<busParams>
    <clock> 1000 </clock>
    <responder_set> false </responder_set>
    <block_size> 64 </block_size>
    <bus_id> 0 </bus_id> 
    <header_cycles> 1 </header_cycles>
    <width> 64 </width>
</busParams>

<p2lParams>
    <clock> 1000 </clock>
    <block_size> 64 </block_size>
    <header_cycles> 1 </header_cycles>
    <width> 64 </width>
</p2lParams>


<sst>
    <component id="cpu0" >
        <SimpleCpu>
            <params include=cpuParams>
            </params>
            <links>
                <link id="cpu2dcache">
                    <params>
                        <name> dcache_port </name>
                        <num> -1 </num>
                    </params>
                </link>
                <link id="cpu2icache">
                    <params>
                        <name> icache_port </name>
                        <num> -1 </num>
                    </params>
                </link>
            </links>
        </SimpleCpu>
    </component>

    <component id="cpu0.dcache" >
        <BaseCache>
            <params include=cacheParams>
                <size>65536</size>
            </params>
            <links>
                <link id="cpu2dcache">
                    <params>
                        <name> cpu_side </name>
                        <num> -1 </num>
                    </params>
                </link>
                <link id="dcache2bus">
                    <params>
                        <name> mem_side </name>
                        <num> -1 </num>
                    </params>
                </link>
            </links>
        </BaseCache>
    </component>

    <component id="cpu0.icache" >
        <BaseCache>
            <params include=cacheParams>
                <size>32768</size>
            </params>
            <links>
                <link id="cpu2icache">
                    <params>
                        <name> cpu_side </name>
                        <num> -1 </num>
                    </params>
                </link>
                <link id="icache2bus">
                    <params>
                        <name> mem_side </name>
                        <num> -1 </num>
                    </params>
                </link>
            </links>
        </BaseCache>
    </component>

    <component id="bus" >
        <Bus>
            <params include=busParams>
            </params>
            <links>
                <link id="mem2bus">
                    <params>
                        <name> port </name>
                        <num> 0 </num>
                    </params>
                </link>

                <link id="dcache2bus">
                    <params>
                        <name> port </name>
                        <num> 2 </num>
                    </params>
                </link>
                <link id="icache2bus">
                    <params>
                        <name> port </name>
                        <num> 1 </num>
                    </params>
                </link>
                <link id="bus2syscallDMA">
                    <params>
                        <name> port </name>
                        <num> 3 </num>
                    </params>
                </link>
                <link id="bus2syscallPIO">
                    <params>
                        <name> port </name>
                        <num> 4 </num>
                    </params>
                </link>

            </links>
        </Bus>
    </component>

    <component id="physmem" >
        <PhysicalMemory>
            <params>
                <range.start> 0x00100000 </range.start>
                <range.end>   0x1fffffff </range.end>

                <latency> 28000 </latency>
                <latency_var> 0 </latency_var>
                <null> false </null>
                <zero> false </zero>

                <exe.0.process.executable> test/hello </exe.0.process.executable>
                <exe.0.process.cmd> "hello" arg1 arg2 </exe.0.process.cmd>
                <exe.0.process.env> USER=mjleven </exe.0.process.env>

                <exe.0.physicalMemory.start> 0x100000 </exe.0.physicalMemory.start>
                <exe.0.physicalMemory.end>   0x1fffff </exe.0.physicalMemory.end>

            </params>
            <links>
                <link id="mem2bus">
                    <params>
                        <name> port </name>
                        <num> 0 </num>
                    </params>
                </link>
            </links>
        </PhysicalMemory>
    </component>

    <component id="cpu0.syscall" >
        <Syscall>
            <params>
                <physicalMemory.start> 0x00000000 </physicalMemory.start>
                <physicalMemory.end>   0x00002000 </physicalMemory.end>
            </params>
            <links>
                <link id="bus2syscallDMA">
                    <params>
                        <name> dma </name>
                        <num> -1 </num>
                    </params>
                </link>
                <link id="bus2syscallPIO">
                    <params>
                        <name> pio </name>
                        <num> -1 </num>
                    </params>
                </link>
            </links>
        </Syscall>
    </component>


</sst>
