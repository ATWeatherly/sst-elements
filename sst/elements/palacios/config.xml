<?xml version="1.0"?>

<sdl version="2.0"/>

<config>
    stopAtCycle=1000000000s
</config>

<variables>
    <NicMMIF_link_lat> 1ps </NicMMIF_link_lat>
    <nic_link_lat> 1ps </nic_link_lat>
    <rtr_link_lat> 10ns </rtr_link_lat>
</variables>

<param_include>
   <rtr_params>
        <clock>         500Mhz </clock>
        <debug>         no     </debug>
        <info>          no     </info>

        <iLCBLat>       13     </iLCBLat>
        <oLCBLat>       7      </oLCBLat>
        <routingLat>    3      </routingLat>
        <iQLat>         2      </iQLat>

        <OutputQSize_flits>       16  </OutputQSize_flits>
        <InputQSize_flits>        96  </InputQSize_flits>
        <Router2NodeQSize_flits>  1024 </Router2NodeQSize_flits>

        <network.xDimSize> 2 </network.xDimSize>
        <network.yDimSize> 1 </network.yDimSize>
        <network.zDimSize> 1 </network.zDimSize>

        <routing.xDateline> 0 </routing.xDateline>
        <routing.yDateline> 0 </routing.yDateline>
        <routing.zDateline> 0 </routing.zDateline>
    </rtr_params>

    <nic_params1>
        <clock>500Mhz</clock>
        <dmaEngine.bytesPerClock> 4 </dmaEngine.bytesPerClock>
    </nic_params1>

    <nic_params2>
        <info>no</info>
        <debug>0</debug>
        <dummyDebug> no </dummyDebug>
        <latency> 500 </latency>
    </nic_params2>
</param_include>

<sst>
    <component name=0.system type=palacios.PtlNicMMIF rank=0 >
        <params>
            <vm-dev> /dev/v3-vm0 </vm-dev>
            <dev> user:foo </dev>
            <minCycles> 1000 </minCycles>
        </params>
        <link name=0.ptlNicLink port=nic latency=$NicMMIF_link_lat />
        <link name=0.dmaLink port=dma latency=$NicMMIF_link_lat />

    </component>

    <component name=0.ptlNic type=portals4.PtlNic rank=0  >
        <params>
            <nid> 0 </nid>
            <id> 0 </id>
            <dma-virt2phys> false </dma-virt2phys>
            <clock> 500 Mhz </clock>
        </params>
        <link name=0.ptlNicLink port=mmif latency=$NicMMIF_link_lat />
        <link name=0.dmaLink port=dma latency=$NicMMIF_link_lat />
        <link name=0.nic2rtr port=rtr latency=$nic_link_lat/>
    </component>

    <component name=0.rtr type=SS_router.SS_router rank=0 >
        <params include=rtr_params>
            <id> 0 </id>
        </params>
        <link name=0.nic2rtr port=nic latency=$nic_link_lat/>
        <link name=xr2r.0.0.1 port=xPos latency=$rtr_link_lat/>
        <link name=xr2r.0.0.0 port=xNeg latency=$rtr_link_lat/>
    </component>


    <component name=1.system type=palacios.PtlNicMMIF rank=1 >
        <params>
            <vm-dev> /dev/v3-vm0 </vm-dev>
            <dev> user:foo </dev>
            <minCycles> 1000 </minCycles>
        </params>
        <link name=1.ptlNicLink port=nic latency=$NicMMIF_link_lat />
        <link name=1.dmaLink port=dma latency=$NicMMIF_link_lat />

    </component>

    <component name=1.ptlNic type=portals4.PtlNic rank=1  >
        <params>
            <nid> 1 </nid>
            <id> 1 </id>
            <dma-virt2phys> false </dma-virt2phys>
            <clock> 500 Mhz </clock>
        </params>
        <link name=1.ptlNicLink port=mmif latency=$NicMMIF_link_lat />
        <link name=1.dmaLink port=dma latency=$NicMMIF_link_lat />
        <link name=1.nic2rtr port=rtr latency=$nic_link_lat/>
    </component>

    <component name=1.rtr type=SS_router.SS_router rank=1 >
        <params include=rtr_params>
            <id> 1 </id>
        </params>
        <link name=1.nic2rtr port=nic latency=$nic_link_lat/>
        <link name=xr2r.0.0.0 port=xPos latency=$rtr_link_lat/>
        <link name=xr2r.0.0.1 port=xNeg latency=$rtr_link_lat/>
    </component>

</sst>

